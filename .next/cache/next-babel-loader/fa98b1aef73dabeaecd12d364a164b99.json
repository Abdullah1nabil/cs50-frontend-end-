{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/abdullahnbail/Desktop/cs50-frontend/pages/login.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { login } from \"../pages/api/api\";\nimport { useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { Button, message, Upload } from \"antd\";\n\nvar Login = function Login() {\n  _s();\n\n  var _useState = useState(\"\"),\n      phone = _useState[0],\n      setPhone = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var router = useRouter();\n\n  var handelrequest = function handelrequest() {\n    login({\n      phone: phone,\n      password: password\n    }, function (err, result) {\n      if (err) throw err;\n\n      if (!result.status) {\n        if (result.obj) {\n          // to show error message\n          Object.keys(result.obj.err).forEach(function (el) {\n            return message.error(result.obj.err[el]);\n          });\n        } else {\n          Object.keys(result.err).forEach(function (el) {\n            return message.error(result.err[el]);\n          });\n        }\n      } else {\n        localStorage.setItem(\"token\", result.data.token);\n        localStorage.setItem(\"user\", JSON.stringify(result.data.user));\n        router.replace(\"/\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"sign\",\n        align: \"center\",\n        children: \"sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form1\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"un\",\n          align: \"center\",\n          placeholder: \"Username\",\n          value: phone,\n          onChange: function onChange(e) {\n            return setPhone(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"pass\",\n          align: \"center\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: function onChange(e) {\n            return setPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"submit\",\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handelrequest,\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"forget\",\n          align: \"centere\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: \"Forget Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(Login, \"b/T1HFa33hG1qSPsTjdi13ytdpQ=\", false, function () {\n  return [useRouter];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/abdullahnbail/Desktop/cs50-frontend/pages/login.js"],"names":["login","useState","useRouter","Button","message","Upload","Login","phone","setPhone","password","setPassword","router","handelrequest","err","result","status","obj","Object","keys","forEach","el","error","localStorage","setItem","data","token","JSON","stringify","user","replace","e","target","value"],"mappings":"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","sourcesContent":["import { login } from \"../pages/api/api\";\nimport { useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { Button, message, Upload } from \"antd\";\n\nconst Login = () => {\n  const [phone, setPhone] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const router = useRouter();\n\n  const handelrequest = () => {\n    login({ phone, password }, (err, result) => {\n      if (err) throw err;\n      if (!result.status) {\n        if (result.obj) {\n          // to show error message\n          Object.keys(result.obj.err).forEach((el) =>\n            message.error(result.obj.err[el])\n          );\n        } else {\n          Object.keys(result.err).forEach((el) =>\n            message.error(result.err[el])\n          );\n        }\n      } else {\n        localStorage.setItem(\"token\", result.data.token);\n        localStorage.setItem(\"user\", JSON.stringify(result.data.user));\n        router.replace(\"/\");\n      }\n    });\n  };\n  return (\n    <>\n      <div className=\"main\">\n        <p className=\"sign\" align=\"center\">\n          sign up\n        </p>\n        <form className=\"form1\">\n          <input\n            type=\"text\"\n            className=\"un\"\n            align=\"center\"\n            placeholder=\"Username\"\n            value={phone}\n            onChange={(e) => setPhone(e.target.value)}\n          />\n          <input\n            type=\"password\"\n            className=\"pass\"\n            align=\"center\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          <a className=\"submit\" align=\"center\">\n            <button onClick={handelrequest}>Sign in</button>\n          </a>\n          <p className=\"forget\" align=\"centere\">\n            <a href=\"#\">Forget Password</a>\n          </p>\n        </form>\n      </div>\n    </>\n  );\n};\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}